pipeline {
    agent {
        docker {
            image 'httpd:latest'
            ports '80:80'
        }
    }

    stages {
        stage('Ejecución del contenedor') {
            steps {
                sh 'echo "Ejecutando el contenedor..."'
                // Puedes agregar comandos adicionales para personalizar la ejecución del contenedor si es necesario
            }
        }
    }

    post {
        always {
            cleanDocker()
        }
    }
}

def cleanDocker() {
    sh 'docker stop apache-container || true'
    sh 'docker rm apache-container || true'
}

